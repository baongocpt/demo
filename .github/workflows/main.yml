name: Cypress Tests
on:
  push:
  workflow_dispatch:
jobs:
 Cypress-Test:
   runs-on: ubuntu-latest
   steps:
     - name: Checkout GitCode
       uses: actions/checkout@v2

     - name: Run Cypress Test
       uses: cypress-io/github-action@v4
       with:
         command: npx cypress run
         browser: chrome

     - name: "Import results to Xray"
       uses: mikepenz/xray-action@{latest-release}
       with:
         username: F887B32D8EAE4A848511492A4A0D235B
         password: a5ecd9420ea1f29204670f290d7bd5f5fa4ed52a25f7a26239c9ac355dcece00
         testFormat: "junit"
         testPaths: "**/results/*.xml"
         testExecKey: "DEMO-14"
         projectKey: "DEMO"